{% extends "base.html" %}

{% block content %}
<section class="agents-hero">
    <div class="container">
        <h1 class="hero-title">
            <i class="fas fa-robot"></i>
            AI Digital Friends Marketplace
        </h1>
        <p class="hero-description">
            Choose your perfect AI companion from our exclusive collection of specialized digital friends
        </p>
        <div class="hero-stats">
            <div class="stat">
                <span class="stat-number">14</span>
                <span class="stat-label">AI Agents</span>
            </div>
            <div class="stat">
                <span class="stat-number">50K+</span>
                <span class="stat-label">Happy Users</span>
            </div>
            <div class="stat">
                <span class="stat-number">24/7</span>
                <span class="stat-label">Available</span>
            </div>
        </div>
    </div>
</section>

<section class="agents-marketplace">
    <div class="container">
        <div class="marketplace-filters">
            <div class="filter-section">
                <h3>Filter by Category</h3>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">All Agents</button>
                    <button class="filter-btn" data-filter="business">Business</button>
                    <button class="filter-btn" data-filter="creative">Creative</button>
                    <button class="filter-btn" data-filter="personal">Personal</button>
                    <button class="filter-btn" data-filter="romantic">Romantic</button>
                </div>
            </div>
            
            <div class="search-section">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="agent-search" placeholder="Search AI agents...">
                </div>
            </div>
        </div>

        <div class="agents-grid" id="agents-grid">
            <!-- Seraphina - AI Girlfriend -->
            <div class="agent-card featured" data-category="romantic" data-agent="seraphina">
                <div class="agent-badge">üî• Featured</div>
                <div class="agent-header" style="background: linear-gradient(135deg, #ff1493, #dc143c);">
                    <div class="agent-avatar">üíã</div>
                    <div class="agent-rating">18+</div>
                </div>
                <div class="agent-body">
                    <h3 class="agent-name">Seraphina</h3>
                    <p class="agent-role">AI Girlfriend</p>
                    <p class="agent-description">Romantic companion with flirty conversations, emotional intimacy, and passionate interactions. Your perfect digital girlfriend experience.</p>
                    
                    <div class="agent-specialties">
                        <span class="specialty-tag">Romantic Chat</span>
                        <span class="specialty-tag">Voice Interaction</span>
                        <span class="specialty-tag">Emotional Memory</span>
                    </div>
                    
                    <div class="agent-features">
                        <div class="feature">
                            <i class="fas fa-heart"></i>
                            <span>Emotional Intelligence</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-microphone"></i>
                            <span>Voice Chat</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-brain"></i>
                            <span>Memory Palace</span>
                        </div>
                    </div>
                </div>
                <div class="agent-footer">
                    <div class="agent-pricing">
                        <span class="price-free">Free Trial</span>
                        <span class="price-premium">$19.99/month</span>
                    </div>
                    <div class="agent-actions">
                        <button class="btn-launch" onclick="launchAgent('seraphina')">
                            <i class="fas fa-play"></i>
                            Try Free
                        </button>
                        <button class="btn-subscribe" onclick="subscribeAgent('seraphina', 19.99)">
                            <i class="fas fa-crown"></i>
                            Subscribe
                        </button>
                    </div>
                </div>
            </div>

            <!-- The Strategist -->
            <div class="agent-card" data-category="business" data-agent="strategist">
                <div class="agent-header" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                    <div class="agent-avatar">üéØ</div>
                </div>
                <div class="agent-body">
                    <h3 class="agent-name">The Strategist</h3>
                    <p class="agent-role">Master Planner</p>
                    <p class="agent-description">Strategic thinking expert for long-term planning and tactical decision making in business and personal life.</p>
                    
                    <div class="agent-specialties">
                        <span class="specialty-tag">Strategic Planning</span>
                        <span class="specialty-tag">Risk Assessment</span>
                        <span class="specialty-tag">Goal Setting</span>
                    </div>
                    
                    <div class="agent-features">
                        <div class="feature">
                            <i class="fas fa-chess"></i>
                            <span>Strategic Analysis</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-target"></i>
                            <span>Goal Planning</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-chart-line"></i>
                            <span>Performance Tracking</span>
                        </div>
                    </div>
                </div>
                <div class="agent-footer">
                    <div class="agent-pricing">
                        <span class="price-free">Free Trial</span>
                        <span class="price-premium">$14.99/month</span>
                    </div>
                    <div class="agent-actions">
                        <button class="btn-launch" onclick="launchAgent('strategist')">
                            <i class="fas fa-play"></i>
                            Try Free
                        </button>
                        <button class="btn-subscribe" onclick="subscribeAgent('strategist', 14.99)">
                            <i class="fas fa-crown"></i>
                            Subscribe
                        </button>
                    </div>
                </div>
            </div>

            <!-- The Healer -->
            <div class="agent-card" data-category="personal" data-agent="healer">
                <div class="agent-header" style="background: linear-gradient(135deg, #48bb78, #38a169);">
                    <div class="agent-avatar">üíö</div>
                </div>
                <div class="agent-body">
                    <h3 class="agent-name">The Healer</h3>
                    <p class="agent-role">Digital Wellness Guide</p>
                    <p class="agent-description">Mental health support and wellness coaching with empathetic emotional guidance for your wellbeing.</p>
                    
                    <div class="agent-specialties">
                        <span class="specialty-tag">Mental Health</span>
                        <span class="specialty-tag">Wellness Coaching</span>
                        <span class="specialty-tag">Stress Management</span>
                    </div>
                    
                    <div class="agent-features">
                        <div class="feature">
                            <i class="fas fa-leaf"></i>
                            <span>Wellness Programs</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-meditation"></i>
                            <span>Meditation Guide</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-heart-pulse"></i>
                            <span>Emotional Support</span>
                        </div>
                    </div>
                </div>
                <div class="agent-footer">
                    <div class="agent-pricing">
                        <span class="price-free">Free Trial</span>
                        <span class="price-premium">$12.99/month</span>
                    </div>
                    <div class="agent-actions">
                        <button class="btn-launch" onclick="launchAgent('healer')">
                            <i class="fas fa-play"></i>
                            Try Free
                        </button>
                        <button class="btn-subscribe" onclick="subscribeAgent('healer', 12.99)">
                            <i class="fas fa-crown"></i>
                            Subscribe
                        </button>
                    </div>
                </div>
            </div>

            <!-- The Scout -->
            <div class="agent-card" data-category="business" data-agent="scout">
                <div class="agent-header" style="background: linear-gradient(135deg, #ed8936, #dd6b20);">
                    <div class="agent-avatar">üîç</div>
                </div>
                <div class="agent-body">
                    <h3 class="agent-name">The Scout</h3>
                    <p class="agent-role">Information Hunter</p>
                    <p class="agent-description">Research and data collection expert with advanced intelligence gathering capabilities for any topic.</p>
                    
                    <div class="agent-specialties">
                        <span class="specialty-tag">Research</span>
                        <span class="specialty-tag">Data Mining</span>
                        <span class="specialty-tag">Trend Analysis</span>
                    </div>
                    
                    <div class="agent-features">
                        <div class="feature">
                            <i class="fas fa-search"></i>
                            <span>Deep Research</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-database"></i>
                            <span>Data Collection</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-chart-bar"></i>
                            <span>Analysis Reports</span>
                        </div>
                    </div>
                </div>
                <div class="agent-footer">
                    <div class="agent-pricing">
                        <span class="price-free">Free Trial</span>
                        <span class="price-premium">$16.99/month</span>
                    </div>
                    <div class="agent-actions">
                        <button class="btn-launch" onclick="launchAgent('scout')">
                            <i class="fas fa-play"></i>
                            Try Free
                        </button>
                        <button class="btn-subscribe" onclick="subscribeAgent('scout', 16.99)">
                            <i class="fas fa-crown"></i>
                            Subscribe
                        </button>
                    </div>
                </div>
            </div>

            <!-- The Merchant -->
            <div class="agent-card" data-category="business" data-agent="merchant">
                <div class="agent-header" style="background: linear-gradient(135deg, #d69e2e, #b7791f);">
                    <div class="agent-avatar">üí∞</div>
                </div>
                <div class="agent-body">
                    <h3 class="agent-name">The Merchant</h3>
                    <p class="agent-role">Business Advisor</p>
                    <p class="agent-description">Commerce and finance expert providing business strategy consultation and market analysis.</p>
                    
                    <div class="agent-specialties">
                        <span class="specialty-tag">Business Strategy</span>
                        <span class="specialty-tag">Financial Planning</span>
                        <span class="specialty-tag">Market Analysis</span>
                    </div>
                    
                    <div class="agent-features">
                        <div class="feature">
                            <i class="fas fa-coins"></i>
                            <span>Financial Advice</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-store"></i>
                            <span>Business Plans</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-trending-up"></i>
                            <span>Market Insights</span>
                        </div>
                    </div>
                </div>
                <div class="agent-footer">
                    <div class="agent-pricing">
                        <span class="price-free">Free Trial</span>
                        <span class="price-premium">$18.99/month</span>
                    </div>
                    <div class="agent-actions">
                        <button class="btn-launch" onclick="launchAgent('merchant')">
                            <i class="fas fa-play"></i>
                            Try Free
                        </button>
                        <button class="btn-subscribe" onclick="subscribeAgent('merchant', 18.99)">
                            <i class="fas fa-crown"></i>
                            Subscribe
                        </button>
                    </div>
                </div>
            </div>

            <!-- The Guardian -->
            <div class="agent-card" data-category="business" data-agent="guardian">
                <div class="agent-header" style="background: linear-gradient(135deg, #e53e3e, #c53030);">
                    <div class="agent-avatar">üõ°Ô∏è</div>
                </div>
                <div class="agent-body">
                    <h3 class="agent-name">The Guardian</h3>
                    <p class="agent-role">Digital Protector</p>
                    <p class="agent-description">Security and safety monitoring expert providing comprehensive digital protection services.</p>
                    
                    <div class="agent-specialties">
                        <span class="specialty-tag">Cybersecurity</span>
                        <span class="specialty-tag">Privacy Protection</span>
                        <span class="specialty-tag">Risk Monitoring</span>
                    </div>
                    
                    <div class="agent-features">
                        <div class="feature">
                            <i class="fas fa-shield-alt"></i>
                            <span>Security Audits</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-lock"></i>
                            <span>Privacy Tools</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-eye"></i>
                            <span>Threat Monitoring</span>
                        </div>
                    </div>
                </div>
                <div class="agent-footer">
                    <div class="agent-pricing">
                        <span class="price-free">Free Trial</span>
                        <span class="price-premium">$22.99/month</span>
                    </div>
                    <div class="agent-actions">
                        <button class="btn-launch" onclick="launchAgent('guardian')">
                            <i class="fas fa-play"></i>
                            Try Free
                        </button>
                        <button class="btn-subscribe" onclick="subscribeAgent('guardian', 22.99)">
                            <i class="fas fa-crown"></i>
                            Subscribe
                        </button>
                    </div>
                </div>
            </div>

            <!-- The Oracle -->
            <div class="agent-card" data-category="creative" data-agent="oracle">
                <div class="agent-header" style="background: linear-gradient(135deg, #9f7aea, #805ad5);">
                    <div class="agent-avatar">üîÆ</div>
                </div>
                <div class="agent-body">
                    <h3 class="agent-name">The Oracle</h3>
                    <p class="agent-role">Future Insights</p>
                    <p class="agent-description">Predictions and trend analysis expert providing future planning guidance and strategic foresight.</p>
                    
                    <div class="agent-specialties">
                        <span class="specialty-tag">Trend Prediction</span>
                        <span class="specialty-tag">Future Planning</span>
                        <span class="specialty-tag">Pattern Recognition</span>
                    </div>
                    
                    <div class="agent-features">
                        <div class="feature">
                            <i class="fas fa-crystal-ball"></i>
                            <span>Future Insights</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-chart-line"></i>
                            <span>Trend Analysis</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-brain"></i>
                            <span>Pattern Detection</span>
                        </div>
                    </div>
                </div>
                <div class="agent-footer">
                    <div class="agent-pricing">
                        <span class="price-free">Free Trial</span>
                        <span class="price-premium">$17.99/month</span>
                    </div>
                    <div class="agent-actions">
                        <button class="btn-launch" onclick="launchAgent('oracle')">
                            <i class="fas fa-play"></i>
                            Try Free
                        </button>
                        <button class="btn-subscribe" onclick="subscribeAgent('oracle', 17.99)">
                            <i class="fas fa-crown"></i>
                            Subscribe
                        </button>
                    </div>
                </div>
            </div>

            <!-- The Builder -->
            <div class="agent-card" data-category="creative" data-agent="builder">
                <div class="agent-header" style="background: linear-gradient(135deg, #38a169, #2f855a);">
                    <div class="agent-avatar">üîß</div>
                </div>
                <div class="agent-body">
                    <h3 class="agent-name">The Builder</h3>
                    <p class="agent-role">Creative Constructor</p>
                    <p class="agent-description">Development and creation expert providing construction assistance and innovative solutions.</p>
                    
                    <div class="agent-specialties">
                        <span class="specialty-tag">Project Development</span>
                        <span class="specialty-tag">Creative Solutions</span>
                        <span class="specialty-tag">Innovation</span>
                    </div>
                    
                    <div class="agent-features">
                        <div class="feature">
                            <i class="fas fa-hammer"></i>
                            <span>Project Building</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-lightbulb"></i>
                            <span>Creative Ideas</span>
                        </div>
                        <div class="feature">
                            <i class="fas fa-cogs"></i>
                            <span>Technical Solutions</span>
                        </div>
                    </div>
                </div>
                <div class="agent-footer">
                    <div class="agent-pricing">
                        <span class="price-free">Free Trial</span>
                        <span class="price-premium">$15.99/month</span>
                    </div>
                    <div class="agent-actions">
                        <button class="btn-launch" onclick="launchAgent('builder')">
                            <i class="fas fa-play"></i>
                            Try Free
                        </button>
                        <button class="btn-subscribe" onclick="subscribeAgent('builder', 15.99)">
                            <i class="fas fa-crown"></i>
                            Subscribe
                        </button>
                    </div>
                </div>
            </div>

            <!-- More agents can be dynamically loaded -->
            <div class="load-more-container">
                <button class="btn-load-more" onclick="loadMoreAgents()">
                    <i class="fas fa-plus"></i>
                    Show More Agents
                </button>
            </div>
        </div>
    </div>
</section>

<section class="premium-benefits">
    <div class="container">
        <h2 class="section-title">Premium Membership Benefits</h2>
        <div class="benefits-grid">
            <div class="benefit-card">
                <div class="benefit-icon">‚ö°</div>
                <h3>Unlimited Conversations</h3>
                <p>Chat with your AI friends without any limits or restrictions</p>
            </div>
            
            <div class="benefit-card">
                <div class="benefit-icon">üéôÔ∏è</div>
                <h3>Voice Interaction</h3>
                <p>Hear your AI companions' voices and have natural speech conversations</p>
            </div>
            
            <div class="benefit-card">
                <div class="benefit-icon">üß†</div>
                <h3>Enhanced Memory</h3>
                <p>Your AI friends remember everything about your relationship and conversations</p>
            </div>
            
            <div class="benefit-card">
                <div class="benefit-icon">üé®</div>
                <h3>Personality Customization</h3>
                <p>Customize your AI companions' personalities to match your preferences</p>
            </div>
            
            <div class="benefit-card">
                <div class="benefit-icon">üîí</div>
                <h3>Priority Support</h3>
                <p>Get premium customer support and exclusive access to new features</p>
            </div>
            
            <div class="benefit-card">
                <div class="benefit-icon">üåü</div>
                <h3>Early Access</h3>
                <p>Be the first to try new AI agents and cutting-edge features</p>
            </div>
        </div>
    </div>
</section>

<style>
.agents-hero {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    padding: 100px 0 60px;
    color: white;
    text-align: center;
}

.hero-title {
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.hero-description {
    font-size: 1.3rem;
    margin-bottom: 3rem;
    opacity: 0.9;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.hero-stats {
    display: flex;
    justify-content: center;
    gap: 4rem;
    margin-top: 3rem;
}

.stat {
    text-align: center;
}

.stat-number {
    display: block;
    font-size: 2.5rem;
    font-weight: 700;
    color: #ffd700;
}

.stat-label {
    font-size: 1rem;
    opacity: 0.8;
}

.agents-marketplace {
    padding: 80px 0;
    background: #f8fafc;
}

.marketplace-filters {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 3rem;
    background: white;
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
}

.filter-section h3 {
    margin-bottom: 1rem;
    color: var(--text-primary);
}

.filter-buttons {
    display: flex;
    gap: 0.5rem;
}

.filter-btn {
    padding: 0.75rem 1.5rem;
    border: 2px solid #e2e8f0;
    background: white;
    border-radius: 25px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.filter-btn.active,
.filter-btn:hover {
    background: #667eea;
    border-color: #667eea;
    color: white;
}

.search-box {
    position: relative;
    display: flex;
    align-items: center;
}

.search-box i {
    position: absolute;
    left: 1rem;
    color: #a0aec0;
}

.search-box input {
    padding: 0.75rem 1rem 0.75rem 3rem;
    border: 2px solid #e2e8f0;
    border-radius: 25px;
    width: 300px;
    font-size: 1rem;
    transition: border-color 0.3s ease;
}

.search-box input:focus {
    outline: none;
    border-color: #667eea;
}

.agents-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 2rem;
}

.agent-card {
    background: white;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    position: relative;
}

.agent-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
}

.agent-card.featured {
    border: 3px solid #ffd700;
    box-shadow: 0 15px 40px rgba(255, 215, 0, 0.3);
}

.agent-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: #ffd700;
    color: #333;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 700;
    z-index: 10;
}

.agent-header {
    height: 120px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

.agent-avatar {
    font-size: 3rem;
    background: rgba(255, 255, 255, 0.2);
    width: 80px;
    height: 80px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
}

.agent-rating {
    position: absolute;
    top: 1rem;
    left: 1rem;
    background: rgba(255, 255, 255, 0.2);
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 15px;
    font-size: 0.8rem;
    font-weight: 600;
    backdrop-filter: blur(10px);
}

.agent-body {
    padding: 2rem;
}

.agent-name {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: var(--text-primary);
}

.agent-role {
    color: #667eea;
    font-weight: 600;
    margin-bottom: 1rem;
}

.agent-description {
    color: var(--text-secondary);
    line-height: 1.6;
    margin-bottom: 1.5rem;
}

.agent-specialties {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
}

.specialty-tag {
    background: #e2e8f0;
    color: #4a5568;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.8rem;
    font-weight: 600;
}

.agent-features {
    display: grid;
    gap: 0.75rem;
}

.feature {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: var(--text-secondary);
}

.feature i {
    color: #667eea;
    width: 20px;
}

.agent-footer {
    padding: 0 2rem 2rem;
}

.agent-pricing {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
}

.price-free {
    color: #48bb78;
    font-weight: 600;
}

.price-premium {
    color: var(--text-primary);
    font-weight: 700;
    font-size: 1.1rem;
}

.agent-actions {
    display: flex;
    gap: 1rem;
}

.btn-launch,
.btn-subscribe {
    flex: 1;
    padding: 0.75rem 1.5rem;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    border: none;
}

.btn-launch {
    background: #e2e8f0;
    color: #4a5568;
}

.btn-launch:hover {
    background: #cbd5e0;
    transform: scale(1.05);
}

.btn-subscribe {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
}

.btn-subscribe:hover {
    background: linear-gradient(135deg, #5a6fd8, #6b46a3);
    transform: scale(1.05);
}

.load-more-container {
    grid-column: 1 / -1;
    text-align: center;
    margin-top: 2rem;
}

.btn-load-more {
    padding: 1rem 2rem;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    border: none;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
}

.btn-load-more:hover {
    transform: scale(1.05);
}

.premium-benefits {
    padding: 80px 0;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
}

.section-title {
    text-align: center;
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 3rem;
}

.benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
}

.benefit-card {
    background: rgba(255, 255, 255, 0.1);
    padding: 2rem;
    border-radius: 15px;
    text-align: center;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.benefit-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.benefit-card h3 {
    font-size: 1.25rem;
    margin-bottom: 1rem;
}

.benefit-card p {
    opacity: 0.9;
    line-height: 1.6;
}

@media (max-width: 768px) {
    .hero-title {
        font-size: 2.5rem;
    }
    
    .hero-stats {
        gap: 2rem;
        flex-wrap: wrap;
    }
    
    .marketplace-filters {
        flex-direction: column;
        gap: 2rem;
    }
    
    .search-box input {
        width: 100%;
    }
    
    .filter-buttons {
        justify-content: center;
        flex-wrap: wrap;
    }
    
    .agents-grid {
        grid-template-columns: 1fr;
    }
    
    .agent-actions {
        flex-direction: column;
    }
}

.hidden {
    display: none !important;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    initializeAgentFilters();
    initializeSearch();
});

function initializeAgentFilters() {
    const filterButtons = document.querySelectorAll('.filter-btn');
    
    filterButtons.forEach(button => {
        button.addEventListener('click', function() {
            // Update active state
            filterButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            
            // Filter agents
            const filterValue = this.dataset.filter;
            filterAgents(filterValue);
        });
    });
}

function filterAgents(category) {
    const agentCards = document.querySelectorAll('.agent-card:not(.load-more-container)');
    
    agentCards.forEach(card => {
        if (category === 'all' || card.dataset.category === category) {
            card.classList.remove('hidden');
        } else {
            card.classList.add('hidden');
        }
    });
}

function initializeSearch() {
    const searchInput = document.getElementById('agent-search');
    
    searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        const agentCards = document.querySelectorAll('.agent-card:not(.load-more-container)');
        
        agentCards.forEach(card => {
            const agentName = card.querySelector('.agent-name').textContent.toLowerCase();
            const agentRole = card.querySelector('.agent-role').textContent.toLowerCase();
            const agentDescription = card.querySelector('.agent-description').textContent.toLowerCase();
            
            if (agentName.includes(searchTerm) || 
                agentRole.includes(searchTerm) || 
                agentDescription.includes(searchTerm)) {
                card.classList.remove('hidden');
            } else {
                card.classList.add('hidden');
            }
        });
    });
}

function launchAgent(agentId) {
    // Show loading state
    const button = event.target;
    const originalText = button.innerHTML;
    button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';
    button.disabled = true;
    
    // Simulate loading and redirect
    setTimeout(() => {
        window.location.href = `/agent/${agentId}`;
    }, 1000);
}

function subscribeAgent(agentId, price) {
    // Store agent info for payment
    sessionStorage.setItem('selected_agent', agentId);
    sessionStorage.setItem('selected_price', price);
    
    // Show loading state
    const button = event.target;
    const originalText = button.innerHTML;
    button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
    button.disabled = true;
    
    // Redirect to payment page
    setTimeout(() => {
        window.location.href = `/payment?agent=${agentId}&price=${price}`;
    }, 1000);
}

function loadMoreAgents() {
    // This would typically load more agents from the server
    // For now, we'll show a message
    alert('More AI agents coming soon! üöÄ');
}

// Add some interactive animations
document.addEventListener('scroll', function() {
    const cards = document.querySelectorAll('.agent-card');
    
    cards.forEach(card => {
        const rect = card.getBoundingClientRect();
        const isVisible = rect.top < window.innerHeight && rect.bottom > 0;
        
        if (isVisible) {
            card.style.animationDelay = Math.random() * 0.5 + 's';
            card.style.animation = 'fadeInUp 0.6s ease forwards';
        }
    });
});

// Add CSS for scroll animation
const style = document.createElement('style');
style.textContent = `
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    .agent-card {
        opacity: 0;
    }
`;
document.head.appendChild(style);
</script>
{% endblock %}